一个计算二手PC价格的公式验证过程; 感觉验证过程有点意思, 就记录下来分享给大家


# 理论知识
首先先上理论知识, 公式推导基于对数换底公式, 
> 在此感谢 已知对数和真数怎么求底数？ - 跳跳虎的回答 - 知乎; https://www.zhihu.com/question/275214757/answer/2082684166
> <img width="565" alt="Screen Shot 2023-04-24 at 17 54 42" src="https://user-images.githubusercontent.com/37357447/233963445-7f0b16e4-c715-4ddc-915a-bfcb8e4b1c38.png">


# 大致公式
之后是大概的一个询问 chatgpt 的过程, promt 了一天, 都是错的; 不过给了一个大致的思路

```
全新价格 * (1 - 年度折旧率)^年限 * (硬件状况评分)
```

# 公式验证 
接下来是公式验证, 通过计算 年度折旧率x 来验证公式的正确率, 这里我们不考虑 硬件状况评分 因素
+ 案例1, 根据换底公式, 已知二手价格 3500, 原价9000, 使用了4年     
9000 * (1-x)^4 = 3500  
(1-x)^4 = 3500/9000  
ln(3500/9000)/ln(1-x) = 4  
ln(1-x) = ln(3500/9000) / 4  
1-x = e^(ln(3500/9000) / 4)  
x = 1-e^(ln(3500/9000) / 4)  
x = 0.21031046324, 

得出 年度折旧率x 的计算公式  
x = 1-e^(ln(出售价/原价) / 年数)  

> 可以看到 年度折旧率x 基本符合 0.2 到 0.3 的计算预期;   
> 再考虑硬件状况评分, 我们认为这个 年度折旧率x 的计算公式是基本合理的  

+ 案例2, 已知二手价格 120, 原价4300, 7年   
x = 1-e^(ln(120/4300)/7)   
x = 0.40026558627  

得出 年度折旧率x 为0.4; 是明显亏本的



# 实战

于是通过

```
全新价格 * (1 - 年度折旧率)^年限 * (硬件状况评分), 暂不考虑 硬件状况评分y
```

来大致计算一台 1800 的机器, 在 5 到 6 年的机器的大致二手估值

+ 按 年度折旧率 0.25 计算  
应为 
1800 * (1-0.25)^6 = 320.361328125  
1800 * (1-0.25)^5 = 427.1484375

+ 按 年度折旧率 0.2 计算  
1800 * (1-0.2)^6 = 471.8592  
1800 * (1-0.2)^5 = 589.824

也大致符合了机主对期望价格的需求
